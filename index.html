<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GridForm</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js"></script>

    <link rel="icon" href="assets/logo/favicon-dark.svg" media="(prefers-color-scheme: light)">
    <link rel="icon" href="assets/logo/favicon-light.svg" media="(prefers-color-scheme: dark)">
    <link rel="icon" href="assets/logo/favicon-dark.svg">

    <link rel="stylesheet" href="styles/fonts.css">
    <link rel="stylesheet" href="styles/styles.css">
</head>

<body>
    <div id="canvas-container">
        <div id="button-group">
            <button id="play-pause-btn">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="pause-icon">
                    <path fill-rule="evenodd"
                        d="M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 4.5h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z"
                        clip-rule="evenodd" />
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="play-icon" style="display: none;">
                    <path fill-rule="evenodd"
                        d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z"
                        clip-rule="evenodd" />
                </svg>
            </button>
            <div id="speed-container">
                <button id="speed-btn">
                    <span class="speed-text">1×</span>
                </button>
                <div id="speed-menu" class="speed-menu">
                    <div class="speed-option" data-speed="0.25">
                        <span>0.25×</span>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="check-icon">
                            <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>
                    </div>
                    <div class="speed-option" data-speed="0.5">
                        <span>0.5×</span>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="check-icon">
                            <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>
                    </div>
                    <div class="speed-option active" data-speed="1">
                        <span>1×</span>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="check-icon">
                            <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>
                    </div>
                    <div class="speed-option" data-speed="1.5">
                        <span>1.5×</span>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="check-icon">
                            <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>
                    </div>
                    <div class="speed-option" data-speed="2">
                        <span>2×</span>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="check-icon">
                            <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>
                    </div>
                    <div class="speed-option" data-speed="4">
                        <span>4×</span>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="check-icon">
                            <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>
                    </div>
                </div>
            </div>
            <button id="randomize-btn">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#333" class="size-6">
                    <path fill-rule="evenodd"
                        d="M12 5.25c1.213 0 2.415.046 3.605.135a3.256 3.256 0 0 1 3.01 3.01c.044.583.077 1.17.1 1.759L17.03 8.47a.75.75 0 1 0-1.06 1.06l3 3a.75.75 0 0 0 1.06 0l3-3a.75.75 0 0 0-1.06-1.06l-1.752 1.751c-.023-.65-.06-1.296-.108-1.939a4.756 4.756 0 0 0-4.392-4.392 49.422 49.422 0 0 0-7.436 0A4.756 4.756 0 0 0 3.89 8.282c-.017.224-.033.447-.046.672a.75.75 0 1 0 1.497.092c.013-.217.028-.434.044-.651a3.256 3.256 0 0 1 3.01-3.01c1.19-.09 2.392-.135 3.605-.135Zm-6.97 6.22a.75.75 0 0 0-1.06 0l-3 3a.75.75 0 1 0 1.06 1.06l1.752-1.751c.023.65.06 1.296.108 1.939a4.756 4.756 0 0 0 4.392 4.392 49.413 49.413 0 0 0 7.436 0 4.756 4.756 0 0 0 4.392-4.392c.017-.223.032-.447.046-.672a.75.75 0 0 0-1.497-.092c-.013.217-.028.434-.044.651a3.256 3.256 0 0 1-3.01 3.01 47.953 47.953 0 0 1-7.21 0 3.256 3.256 0 0 1-3.01-3.01 47.759 47.759 0 0 1-.1-1.759L6.97 15.53a.75.75 0 0 0 1.06-1.06l-3-3Z"
                        clip-rule="evenodd" />
                </svg>
            </button>
            <div id="download-container">
                <button id="download-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                        <path fill-rule="evenodd"
                            d="M12 2.25a.75.75 0 0 1 .75.75v11.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.22 3.22V3a.75.75 0 0 1 .75-.75Zm-9 13.5a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z"
                            clip-rule="evenodd" />
                    </svg>
                </button>
                <div id="download-menu" class="download-menu">
                    <div class="download-option" data-format="png">PNG Image</div>
                    <div class="download-option" data-format="jpeg">JPEG Image</div>
                    <div class="download-option" data-format="gif">GIF Animation</div>
                    <div class="download-option" data-format="txt">Text File</div>
                </div>
            </div>
        </div>

        <div class="tooltip" id="play-pause-tooltip">
            <span class="tooltip-text">Play/Pause</span>
        </div>
        <div class="tooltip" id="speed-tooltip">
            <span class="tooltip-text">Playback Speed</span>
        </div>
        <div class="tooltip" id="randomize-tooltip">
            <span class="tooltip-text">Randomize</span>
        </div>
        <div class="tooltip" id="download-tooltip">
            <span class="tooltip-text">Download</span>
        </div>
    </div>
    <div class="title">
        <img src="assets/logo/GridForm.svg" alt="GridForm" width="357px" height="Auto">
        <p class="version">[v1]</p>
    </div>
    <div id="resize-handle"></div>
    <div id="controls">
        <div class="controls-content">
            <div class="control-group">
                <div class="dropdown-header" id="displayHeader">
                    <span>Display Settings</span>
                    <span class="dropdown-arrow">▶</span>
                </div>
                <div class="dropdown-content" id="displayContent">
                    <label>Columns</label>
                    <input type="range" id="gridCols" min="20" max="300" value="80" step="5">
                    <div class="value-display" id="gridColsValue">80</div>

                    <label>Rows</label>
                    <input type="range" id="gridRows" min="15" max="200" value="50" step="5">
                    <div class="value-display" id="gridRowsValue">50</div>

                    <label>Character Size</label>
                    <input type="range" id="charSize" min="6" max="20" value="12" step="1">
                    <div class="value-display" id="charSizeValue">12</div>

                    <label>Character Spacing</label>
                    <input type="range" id="charSpacing" min="0.5" max="2.0" value="1.0" step="0.1">
                    <div class="value-display" id="charSpacingValue">1.0</div>
                </div>
            </div>

            <div class="control-group">
                <div class="dropdown-header" id="pattern1Header">
                    <span>Primary Pattern</span>
                    <span class="dropdown-arrow">▶</span>
                </div>
                <div class="dropdown-content" id="pattern1Content">
                    <label>Color</label>
                    <input type="color" id="pattern1Color" value="#ffffff"
                        style="width: 100%; height: 30px; background: #111; border: 1px solid #333; border-radius: 4px; cursor: pointer;">

                    <label>
                        <input type="checkbox" id="pattern1Glow" style="margin-right: 8px; accent-color: #ffffff;">
                        Progressive Glow
                    </label>



                    <label>Pattern Type</label>
                    <select id="pattern1Type">
                        <option value="waves">Sine Waves</option>
                        <option value="ripples">Ripples</option>
                        <option value="noise">Perlin Noise</option>
                        <option value="spiral">Spiral</option>
                        <option value="checkerboard">Checkerboard</option>
                        <option value="stripes">Stripes</option>
                        <option value="plasma">Plasma</option>
                        <option value="mandelbrot">Mandelbrot</option>
                        <option value="julia">Julia Set</option>
                        <option value="voronoi">Voronoi</option>
                        <option value="tunnel">Tunnel</option>
                        <option value="mosaic">Mosaic</option>
                    </select>

                    <label>Character Set</label>
                    <select id="pattern1CharSet">
                        <option value="blocks">█▉▊▋▌▍▎▏▒░▓</option>
                        <option value="ascii">.:-=+*#%@</option>
                        <option value="hex">0123456789ABCDEF</option>
                        <option value="numbers">0123456789</option>
                        <option value="letters">ABCDEFGHIJ</option>
                        <option value="symbols">!@#$%^&*().</option>
                        <option value="braille">⠀⠁⠃⠇⠏⠟⠿⡿⣿</option>
                        <option value="custom1">Custom</option>
                    </select>

                    <div id="pattern1CustomCharInput" style="display: none; margin-top: 10px;">
                        <label>Custom Characters (light to dark)</label>
                        <input type="text" id="pattern1CustomChars" placeholder="Enter characters..."
                            style="width: 100%; padding: 5px; background: #111; border: 1px solid #333; color: #fff; border-radius: 4px;">
                    </div>

                    <label>Speed</label>
                    <input type="range" id="pattern1Speed" min="0.001" max="0.05" value="0.01" step="0.001">
                    <div class="value-display" id="pattern1SpeedValue">0.01</div>

                    <label>Scale</label>
                    <input type="range" id="pattern1Scale" min="0.01" max="0.2" value="0.05" step="0.005">
                    <div class="value-display" id="pattern1ScaleValue">0.05</div>
                </div>
            </div>

            <div class="control-group">
                <div class="dropdown-header" id="pattern2Header">
                    <span>Secondary Pattern</span>
                    <span class="dropdown-arrow">▶</span>
                </div>
                <div class="dropdown-content" id="pattern2Content">
                    <button class="toggle-btn" id="pattern2Toggle">Enable Secondary Pattern</button>

                    <div id="pattern2Settings" style="display: none;">
                        <label>Color</label>
                        <input type="color" id="pattern2Color" value="#00ff00"
                            style="width: 100%; height: 30px; background: #111; border: 1px solid #333; border-radius: 4px; cursor: pointer; margin-bottom: 10px;">

                        <label>
                            <input type="checkbox" id="pattern2Glow" style="margin-right: 8px; accent-color: #ffffff;">
                            Progressive Glow
                        </label>



                        <label>Pattern Type</label>
                        <select id="pattern2Type">
                            <option value="waves">Sine Waves</option>
                            <option value="ripples">Ripples</option>
                            <option value="noise">Perlin Noise</option>
                            <option value="spiral">Spiral</option>
                            <option value="checkerboard">Checkerboard</option>
                            <option value="stripes">Stripes</option>
                            <option value="plasma">Plasma</option>
                            <option value="mandelbrot">Mandelbrot</option>
                            <option value="julia">Julia Set</option>
                            <option value="voronoi">Voronoi</option>
                            <option value="tunnel">Tunnel</option>
                            <option value="mosaic">Mosaic</option>
                        </select>

                        <label>Character Set</label>
                        <select id="pattern2CharSet">
                            <option value="blocks">█▉▊▋▌▍▎▏▒░▓</option>
                            <option value="ascii">.:-=+*#%@</option>
                            <option value="hex">0123456789ABCDEF</option>
                            <option value="numbers">0123456789</option>
                            <option value="letters">ABCDEFGHIJ</option>
                            <option value="symbols">!@#$%^&*().</option>
                            <option value="braille">⠀⠁⠃⠇⠏⠟⠿⡿⣿</option>
                            <option value="custom2">Custom</option>
                        </select>

                        <div id="pattern2CustomCharInput" style="display: none; margin-top: 10px;">
                            <label>Custom Characters (light to dark)</label>
                            <input type="text" id="pattern2CustomChars" placeholder="Enter characters..."
                                style="width: 100%; padding: 5px; background: #111; border: 1px solid #333; color: #fff; border-radius: 4px;">
                        </div>

                        <label>Speed</label>
                        <input type="range" id="pattern2Speed" min="0.001" max="0.05" value="0.02" step="0.001">
                        <div class="value-display" id="pattern2SpeedValue">0.02</div>

                        <label>Scale</label>
                        <input type="range" id="pattern2Scale" min="0.01" max="0.2" value="0.08" step="0.005">
                        <div class="value-display" id="pattern2ScaleValue">0.08</div>

                        <label>Blend Mode</label>
                        <select id="blendModeSelect">
                            <option value="add">Add</option>
                            <option value="multiply" selected>Multiply</option>
                            <option value="overlay">Overlay</option>
                            <option value="difference">Difference</option>
                            <option value="screen">Screen</option>
                        </select>

                        <label>Secondary Opacity</label>
                        <input type="range" id="blendAmount" min="0" max="1" value="0.5" step="0.1">
                        <div class="value-display" id="blendAmountValue">0.5</div>
                    </div>
                </div>
            </div>

            <div class="control-group">
                <div class="dropdown-header" id="performanceHeader">
                    <span>Performance Settings</span>
                    <span class="dropdown-arrow">▶</span>
                </div>
                <div class="dropdown-content" id="performanceContent">
                    <label>Target Frame Rate</label>
                    <select id="targetFpsSelect">
                        <option value="30">30 FPS (Better Performance)</option>
                        <option value="60" selected>60 FPS (Smooth Animation)</option>
                        <option value="120">120 FPS (High Performance)</option>
                    </select>

                    <label>Glow Quality</label>
                    <select id="glowQualitySelect">
                        <option value="low">Low (Fastest)</option>
                        <option value="medium" selected>Medium (Balanced)</option>
                        <option value="high">High (Best Quality)</option>
                    </select>

                    <div class="performance-info">
                        <small>Performance Tip: Character rotation has been removed for better performance</small>
                    </div>
                </div>
            </div>

            <div class="control-group">
                <div class="dropdown-header" id="interactiveHeader">
                    <span>Interactive Effects</span>
                    <span class="dropdown-arrow">▶</span>
                </div>
                <div class="dropdown-content" id="interactiveContent">
                    <button class="toggle-btn" id="interactiveToggle">Enable Interactive Effects</button>

                    <div id="interactiveSettings" style="display: none;">
                        <label>Effect Type</label>
                        <select id="interactiveType">
                            <option value="ripple">Mouse Ripples</option>
                            <option value="attract">Mouse Attractor</option>
                            <option value="repel">Mouse Repeller</option>
                            <option value="trail">Mouse Trail</option>
                            <option value="distort">Mouse Distortion</option>
                        </select>

                        <label>Effect Strength</label>
                        <input type="range" id="interactiveStrength" min="0.1" max="2.0" value="1.0" step="0.1">
                        <div class="value-display" id="interactiveStrengthValue">1.0</div>

                        <label>Effect Radius</label>
                        <input type="range" id="interactiveRadius" min="0.05" max="0.5" value="0.2" step="0.05">
                        <div class="value-display" id="interactiveRadiusValue">0.2</div>

                        <label>
                            <input type="checkbox" id="interactiveClick"
                                style="margin-right: 8px; accent-color: #ffffff;" checked>
                            Click to Add Permanent Effects
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="toast-container">
        <div id="success-toast" class="toast">
            <div class="toast-header">
                <div class="toast-content">
                    <div class="toast-title">Download Successful</div>
                    <div class="toast-filename" id="toast-filename"></div>
                </div>
                <button class="toast-close" id="toast-close">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- GIF Recording Progress Overlay -->
    <div id="gif-progress-overlay" class="gif-progress-overlay">
        <div class="gif-progress-content">
            <div class="gif-progress-title">Recording GIF...</div>
            <div class="gif-progress-bar">
                <div class="gif-progress-fill" id="gif-progress-fill"></div>
            </div>
            <div class="gif-progress-text" id="gif-progress-text">0%</div>
        </div>
    </div>

    <script src="js/scripts.js" defer></script>

</body>

</html>